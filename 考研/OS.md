# OS
> 同步与异步
- 在微机原理中，有同步通信和异步通信
    - 同步通信 => 是一种比特同步通信技术，要求发收双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使发收双方建立同步，此后便在同步时钟的控制下逐位发送/接收。
    - 异步通信 => 异步通信是指通信中两个字符（8位）之间的时间间隔是不固定的，而在一个字符内各位的时间间隔是固定的。
- 在OS中
    - 同步按队列输出
    - 异步不按队列输出
## 1 OS introduction
### 1.1 OS 的目标和作用
- OS => 是管理计算机系统的全部硬件资源以及软件资源；控制程序运行；改善人机界面；为其它应用软件提供支持等，使计算机系统所有资源最大限度地发挥作用，为用户提供方便的、有效的、友善的服务界面。
- OS目标
    - 方便性 由汇编到高级语言 / shell
    - 有效性 提高系统资源的利用率和系统的吞吐量（？）
    - 可扩展性 适应硬件发展 eg 微内核
    - 开放性 可移植性  or 可兼容
- OS作用
    - OS作为用户与硬件的接口 shell
    - OS作为计算机系统资源（CPU,memory,I/O,数据和程序）的管理者 
    - OS实现了对计算机资源的抽象 将物理接口汇编语言抽象为高级语言指令 如 read/write
- OS发展的动力
    - 提高计算机资源的利用率 有效性
    - 方便用户 方便性
    - 器件的更新 开放性
    - 计算机体系结构的发展
    - 新的应用需求
### 1.2 OS的发展过程
- 无OS 
    - 人工 打孔纸带
    - 脱机输入/输出（Off-Line I/O）I => 外围机加纸带将其转为磁带，高速加入内存 O => 内存到磁带，磁带由外围机到纸带
        - 减少CPU空闲 外围机写纸带
        - 提高I/O速度 从磁带取到内存
#### 有OS 
- 单道批处理的处理过程 simple batch processing system
    - （Off-Line I）多个作业加入，监控程序（monitor）将作业顺序放入内存，并将控制权给作业
    - 特点 
        - 独占性 一个作业独占内存和CPU
        - 一致性 输出按队列
        - ?
- 多道批处理的处理过程 multi programmed batch processing system
    - 在外存的作业队列多个进入内存，当 A I/O操作时的CPU空挡运行 B
    - 特点 
        - 共享性
        - 异步性 输出不按队列
        - 不可再现 不知用户交互时，运行那个程序 要输出A，可能输出了B
        - 系统吞吐量大 CPU I/O 内存同时工作 
- 分时系统 time sharing system
    - 轮转运行 split 一个时间片运行一个程序，下一个时间片运行下一个程序
    - 特点
        - 多路性
        - 独立性
        - 及时性
        - 交互性
        - 异步性
- 实时系统 real time system
    - 实时即及时，计算不但要正确，还要在规定时间完成
> 微机OS的发展 单用户单任务 / 单用户多任务/ 多用户多任务
### 1.3 OS的基本特性
#### 并发（concurrence）
- 并行性 多事件同时间点发生
- 并发性 多事件同时间段发生
- 进程 能独立运行的并作为资源分配的基本单位
    - 为计算程序和I/O程序分别建立进程就可以，当 A I/O操作时的 CPU空挡运行 B
#### 共享sharing
- 时间和地点上共享 二人在同一地点同时看一本书
    - 互斥共享 A看完B看
    - 同时访问 A看段时间B看再A
#### 虚拟virtual
- 将一个物理实体变成若干个逻辑上的对应物
    - 分时复用 虚拟处理机和I/O 虚拟存储技术（逻辑上扩大内存）
    - 空分复用 
        - 电信业将宽的信道变窄
        - 用存储器的空闲空间存放运行其他多道程序（提高内存利用率）
#### 异步asynchronism 
- 进程的异步性，进程以人们不可预知的速度向前推进
#### 1.4 OS的主要功能
- 处理机管理功能
    - 进程控制
    - 进程同步
    - 进程通信
    - 调度
- 存储器管理功能
- 设备管理功能 I/O缓存
- 文件管理功能
- 接口功能
#### 1.5 OS设计
- 第一代 无结构OS
- 第二代 模块化结构OS 
    - 按1.4的功能分模块成树状，会死锁
- 第三代 分层式结构OS 
    - 只为其后提供服务，只让其前提高服务/自底向上
- C/S 客户机 服务器 网络系统 
    - 客户发送请求，服务器接收并发送消息，客户机接收信息
- B/S 
- 面对对象的程序设计
    - 类/对象/继承
- 现代OS 微内核OS结构    
